# Image Prepare for QwenEdit Outpaint — Guide

## Назначение
Подготовка кадра под Qwen Image Edit Outpaint: подгоняет размер/центр под заданное соотношение сторон и возвращает подготовленное изображение + пустой латент под KSampler.

## Быстрый старт
1) Вход `image` — исходник.  
2) Выберите `aspect_ratio`:  
   - `as_is` — масштаб по площади ~1328×1328 с сохранением пропорций.  
   - Остальные — фиксированные размеры под выбранный аспект.  
3) Подайте `image` и `latent` дальше в Qwen/KS. Готово.

## Параметры
- `aspect_ratio`: as_is | 1x1 | 16x9 | 9x16 | 2x3 | 3x2 | 4x3 | 3x4.  
  Готовые размеры указаны в README; `as_is` подбирает масштаб автоматически.

## Рекомендации
- Для минимальных артефактов upscale: оставьте `as_is`, если не нужен точный аспект.  
- Если важно сохранить максимум деталей — используйте исходник с минимальным количеством компрессии (PNG/TIFF).  
- Латент масштабируется в 8 раз меньше картинки (стандартный VAE 4 ch, /8); убедитесь, что downstream ноды ожидают такой размер.

## Производительность
- Операция лёгкая (один bilinear upscale). Работает на том же устройстве, что входные тензоры.  
- Нет зависимостей кроме стандартных comfy/utils.

## Если что-то пошло не так
- Неожиданный размер: проверьте выбранный `aspect_ratio`.  
- Черный фон/альфа: источник должен быть RGB; при RGBA альфа отбрасывается.  
- Out-of-memory: маловероятно; уменьшите исходное разрешение. 
